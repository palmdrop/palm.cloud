---
# For configuration options and examples, please see:
# https://gethomepage.dev/configs/services/

- Infra:
    - Pi-hole:
        icon: pi-hole
        href: https://pihole.palm.cloud/admin/login
        widget:
          type: pihole
          url: http://pihole:80
          key: {{HOMEPAGE_VAR_PIHOLE_API_KEY}}
          version: 6
    - R2-Backups: 
        icon: mdi-backup-restore
        href: https://dash.cloudflare.com/{{HOMEPAGE_VAR_CLOUDFLARE_ACCOUNT_ID}}/r2/overview
        widget:
          type: customapi 
          url: http://utils:8080/r2-usage
          method: GET
          headers:
            Content-Type: application/json
          mappings:
            - field: data.viewer.accounts[0].r2StorageAdaptiveGroups[0].max.payloadSize
              label: Storage
              format: bytes
            - field: data.viewer.accounts[0].r2StorageAdaptiveGroups[0].max.objectCount
              label: Objects
    - Borg-Backup-Status:
        icon: mdi-backup-restore
        widget:
          type: customapi
          url: http://utils:8080/backup-status/borg
          method: GET
          headers:
            Content-Type: application/json
          mappings:
            - field: status
              label: Status

            - field: last_run
              label: Last run

            - field: archive
              label: Archive

            - field: stats.original_size
              label: Repo size
              format: bytes

- Cloud:
    - Nextcloud:
        icon: nextcloud
        href: https://palm.cloud
        widget:
          type: nextcloud
          url: http://nextcloud:80
          key: {{HOMEPAGE_VAR_NEXTCLOUD_KEY}}
